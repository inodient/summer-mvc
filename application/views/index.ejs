<!DOCTYPE HTML>
<html lang="en">
<head>
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	  <link rel="icon" href="data:;base64,iVBORw0KGgo=">

	  <meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	  <style>
	  	.jumbotron{
	  		padding: 25px 25px;
	  		background-color: black;
	  		color: lightgray;
	  	}

	  	.contents {
	  		font-size: 14.5px;
	  		max-width: 1100px;
	  	}

	  	.test_table{
	  		margin-bottom: 0px;
	  	}

	  	.test_table tbody tr td{
	  		border: 0px;
	  		margin: auto;
	  	}

	  	.input-group{
	  		width: 100%;
	  		border-radius: 0px;
	  	}

	  	.input-group *{
	  		border-radius: 0px;
	  	}

	  	.btn-default {
	  		border-radius: 0px;
	  		background-color: #00000005;
	  	}

	  	.btn-default:hover, .btn-default:active {
	  		background-color: #3d3d3d;
	  		color: #ffffff;
	  	}

	  	.table-td-title {
	  		background-color: #00000005;
	  	}

	  	.input-group .query_select{
	  		border-radius: 0px;
	  		-webkit-appearance: none;
	  		/*width: 100%;*/
	  	}

	  	.site-footer-container {
	  		padding: 30px 100px 30px 100px;
	  	}

	  	.anchor {
	  		text-decoration: none;
	  		color: lightgray;
	  	}

	  	.anchor:hover {
	  		text-decoration: none;
	  		cursor: pointer;
	  		color: lightgray;
	  	}

	  </style>

	  <script type="text/javascript">

	  	$(document).ready( function(){
	  		$("#ajax_request").on( "click", function(){
	  		  var queryText = $("#ajaxMessage").val();

	          $.get( "/ajaxrequest?text=" + queryText, function(data, status){
	            $("#message").text( data.text.toString() );
	          } );
		      } );

					$("#mysqlQueryId").on( "change", function(){
						$("#selectedMysqlQueryId").val( this.value );
					} );

					$("#mssqlQueryId").on( "change", function(){
						$("#selectedMssqlQueryId").val( this.value );
					} );

	      $(function() {
		  // We can attach the `fileselect` event to all file inputs on the page
		  $(document).on('change', ':file', function() {
		    var input = $(this),
		        numFiles = input.get(0).files ? input.get(0).files.length : 1,
		        label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
		    input.trigger('fileselect', [numFiles, label]);
		  });

		  // We can watch for our custom `fileselect` event like this
		  $(document).ready( function() {
		      $(':file').on('fileselect', function(event, numFiles, label) {

		          var input = $(this).parents('.input-group').find(':text'),
		              log = numFiles > 1 ? numFiles + ' files selected' : label;

		          if( input.length ) {
		              input.val(log);
									$("#uploadForm").submit();
		          } else {
		              if( log ) alert(log);
		          }

		      });
		  });

		});


	  	} );
	  </script>

	  <title>Welcome summer-mvc</title>
</head>
<body>
	<div class="jumbotron text-center">
	    <a class="anchor" href="/">
	    	<h1>summer-mvc</h1>
	    	<p>Web Application <b>Framework & Environment</b> for Nodejs</p>
	    </a>
	  </div>
	<div class="container-fluid contents" style="font-size:15px">
		<div class="row">
			<div class="col-lg-1 col-md-1 col-sm-1"></div>

			<div class="col-lg-5 col-md-5 col-sm-5">
				<h3>Test & Actions</h3>
				<hr>
				<div class="table-responsive">
					<table class="table test_table">
						<tbody>
							<tr>
								<td class="col-lg-3 col-md-3 col-sm-3">Post Request</td>
								<td>
									<form action="/" method="post">
										<div class="input-group">
											<input type="input" class="form-control" name="postMessage" placeholder="Post Message" />
											<div class="input-group-btn">
												<button type="submit" class="btn btn-default">Send</button>
											</div>
										</div>
									</form>
								</td>
							</tr>
							<tr>
								<td class="col-lg-3 col-md-3 col-sm-3">Ajax Request</td>
								<td>
									<form action="" method="">
										<div class="input-group">
											<input type="input" class="form-control" id="ajaxMessage" placeholder="Ajax Message" required />
											<div class="input-group-btn">
												<button type="button" class="btn btn-default" id="ajax_request">Send</button>
											</div>
										</div>
									</form>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<hr>
				<div class="table-responsive">
					<table class="table test_table">
						<tbody>
							<tr>
								<td class="col-lg-3 col-md-3 col-sm-3">Cookie</td>
								<td>
									<form action="/setcookie" method="get">
										<div class="input-group">
											<input style="width:50%; border-right: 0px" class="form-control" name="cookieKey" placeholder="key" required />
											<input style="width:50%" class="form-control" name="cookieValue" placeholder="value" required />
											<div class="input-group-btn">
												<button class="btn btn-default">Set</button>
											</div>
										</div>
									</form>
								</td>
							</tr>
							<tr>
								<td class="col-lg-3 col-md-3 col-sm-3">Session</td>
								<td>
									<form action="/setsession" method="get">
										<div class="input-group">
											<input style="width:50%; border-right: 0px" class="form-control" name="sessionKey" placeholder="key" required />
											<input style="width:50%" class="form-control" name="sessionValue" placeholder="value" required />
											<div class="input-group-btn">
												<button class="btn btn-default">Set</button>
											</div>
										</div>
									</form>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<hr>
				<div class="table-responsive">
					<table class="table test_table">
						<tbody>
							<tr>
								<td class="col-lg-3 col-md-3 col-sm-3">Mysql</td>
								<td>
									<form action="/getdata-mysql" method="get">
										<div class="input-group">
											<% if( mysqlQueries && mysqlQueries.length > 0 ){ %>
												<select class="form-control query_select" id="mysqlQueryId">
													<option value=<%= mysqlQueries[0].$.id %> >
														- Please Select Query -
													</option>
													<% for( var i=0; i<mysqlQueries.length; i++ ){ %>
														<option value=<%= mysqlQueries[i].$.id %> ><%= mysqlQueries[i].$.id %></option>
													<% } %>
												</select>
												<input id="selectedMysqlQueryId" name="selectedMysqlQueryId" type="text" value=<%= mysqlQueries[0].$.id %> hidden />
												<div class="input-group-btn">
													<button class="btn btn-default" >Run</button>
												</div>
											<% } else { %>
												<p>Disabled</p>
											<% } %>
										</div>
									</form>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="table-responsive">
					<table class="table test_table">
						<tbody>
							<tr>
								<td class="col-lg-3 col-md-3 col-sm-3">Mssql</td>
								<td>
									<form action="/getdata-mssql" method="get">
										<div class="input-group">
											<% if( mssqlQueries && mssqlQueries.length > 0 ){ %>
												<select class="form-control query_select" id="mssqlQueryId">
													<option value=<%= mssqlQueries[0].$.id %> >
														- Please Select Query -
													</option>
													<% for( var i=0; i<mssqlQueries.length; i++ ){ %>
														<option value=<%= mssqlQueries[i].$.id %> >
															<%= mssqlQueries[i].$.id %>
														</option>
													<% } %>
												</select>
												<input id="selectedMssqlQueryId" name="selectedMssqlQueryId" type="text" value=<%= mssqlQueries[0].$.id %> hidden />
												<div class="input-group-btn">
													<button class="btn btn-default">Run</button>
												<% } else { %>
												</div>
												<p>Disabled</p>
											<% } %>
										</div>
									</form>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<hr>
				<div class="table-responsive">
					<table class="table test_table">
						<tbody>
							<tr>
								<td class="col-lg-3 col-md-3 col-sm-3">File Upload</td>
								<td>
									<form id="uploadForm" action="/upload" method="post" enctype="multipart/form-data">
										<div class="input-group">
											<input type="text" class="form-control" readonly>
			                		<label class="input-group-btn">
			                    <span class="btn btn-default">
			                        Upload <input type="file" style="display: none;" name="uploadFileHidden" multiple>
			                    </span>
			                </label>
			            	</div>
			        		</form>
								</td>
							</tr>
							<tr>
								<td class="col-lg-3 col-md-3 col-sm-3">File Download</td>
								<td>
									<form action="/download" method="get">
										<div class="input-group">
											<input type="text" class="form-control" name="downloadFileName" placeholder="file name" required/>
											<div class="input-group-btn">
												<button type="submit" class="btn btn-default">Download</button>
											</div>
										</div>
									</form>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>



			<div class="col-lg-5 col-md-5 col-sm-5">
				<h3>Test Result</h3>
				<hr>
				<div class="table-responsive">
					<table class="table table-bordered text-center">
						<tbody>
							<tr>
								<td class="table-td-title">Method</td>
								<td><%= method %></td>
							</tr>
							<tr>
								<td class="table-td-title">Path</td>
								<td><%= path %></td>
							</tr>
							<tr>
								<td class="table-td-title">Query String</td>
								<td><%= queryString %></td>
							</tr>
							<tr>
								<td class="table-td-title">Params</td>
								<td><%= params %></td>
							</tr>
						</tbody>
					</table>
				</div>
				<hr>
				<textarea style="width:100%; min-height:300px; border:1px solid lightgray; padding: 20px" id="message" readonly><%= message %></textarea>
			</div>
			<div class="col-lg-1 col-md-1 col-sm-1"></div>
		</div>
	</div>

	<footer class="container-fluid site-footer-container">
	    <div class="col-sm-1"></div>
	    <div class="col-sm-10 text-center">
	      <hr>
	      <ul style="list-style: none; margin: 0; padding: 0;">
	        <li style="display: inline; padding-left: 30px;"><span class="glyphicon glyphicon-copyright-mark" ></span>&nbsp;2017 Inodient, All rights reserved</li>
	        <li style="display: inline; padding-left: 30px;"><a href="https://github.com/inodient/summer-mvc" data-ga-click="Footer, go to contact, text:contact">Get GitHub</a></li>
	        <!-- <li style="display: inline; padding-left: 30px;"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">Developer</a></li>
	        <li style="display: inline; padding-left: 30px;"><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Facebook</a></li>
	        <li style="display: inline; padding-left: 30px;"><a href="/index" data-ga-click="Footer, go to about, text:about">About</a></li> -->
	      </ul>
	    </div>
	    <div class="col-sm-1"></div>
	</fotter>
</body>
